---
title: "R Notebook"
output: html_document
---

# JuliaConnectoR
```{r}
library(JuliaConnectoR)
juliaSetupOk()
```

```{r}
# Importing a module without a package
getwd()
testModule = normalizePath("../../JDRPM/src/JDRPM.jl")
cat(testModule)
# take a look at the file
writeLines(readLines(testModule))
# load in Julia
juliaCall("include", testModule)
# import in R via relative module path
TestModule1 <- juliaImport(".JDRPM")
x = TestModule1$my_example(30)

# Importing a local module is also possible in one line,
# by directly using the module object returned by "include".
TestModule1 <- juliaImport(juliaCall("include", testModule))
x = TestModule1$my_example(30)
x

n = 10
T = 15
p = 3
# nxT matrix of normally distributed random numbers
Y <- matrix(rnorm(n * T), nrow = n, ncol = T)
# nx3xT array of normally distributed random numbers
X_covariates <- array(rnorm(n * p * T), dim = c(n, p, T))
# nx2 matrix of uniformly distributed random numbers between 0 and 1
sp_coords <- matrix(runif(n * 2), nrow = n, ncol = 2)


TestModule1$MCMC_fit(Y,sp_coords,X_covariates)

```





# JuliaCall
```{r}
library(JuliaCall)
julia_setup(verbose = TRUE)
julia_command('function test() println("1") end')
julia_call("test")
```

```{r}
julia_source("../../drpm_julia/julia_on_R_test.jl")

julia_call("my_sum",4,10,
		   need_return = "R",
		   show_value = TRUE)
```








